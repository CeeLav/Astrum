# UIGenerator Partial Class ç”ŸæˆåŠŸèƒ½æŒ‡å—

## åŠŸèƒ½æ¦‚è¿°

UIGenerator ç°åœ¨æ”¯æŒç”Ÿæˆ partial class åˆ†ç¦»çš„ä»£ç ç»“æ„ï¼Œå°†è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç å’Œæ‰‹åŠ¨ç¼–å†™çš„é€»è¾‘ä»£ç åˆ†å¼€ç®¡ç†ã€‚

### æ–‡ä»¶ç»“æ„

å¯¹äºUIé¡µé¢åç§°ä¸º `MainMenu` çš„UIï¼Œä¼šç”Ÿæˆä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼š

1. **è®¾è®¡å™¨æ–‡ä»¶**: `MainMenuView.designer.cs` - è‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…å«UIå…ƒç´ å¼•ç”¨å’Œåˆå§‹åŒ–é€»è¾‘
2. **é€»è¾‘æ–‡ä»¶**: `MainMenuView.cs` - ç¬¬ä¸€æ¬¡ç”Ÿæˆåæ‰‹åŠ¨ç¼–è¾‘ï¼Œä¸ä¼šè¢«é‡æ–°ç”Ÿæˆè¦†ç›–

## è®¾è®¡å™¨æ–‡ä»¶ (.designer.cs)

### ç‰¹ç‚¹
- âœ… **è‡ªåŠ¨ç”Ÿæˆ**: æ¯æ¬¡UIæ›´æ–°æ—¶é‡æ–°ç”Ÿæˆ
- âœ… **åŒ…å«UIå¼•ç”¨**: æ‰€æœ‰UIå…ƒç´ çš„å­—æ®µå®šä¹‰
- âœ… **åŒ…å«åˆå§‹åŒ–é€»è¾‘**: UIå…ƒç´ çš„è‡ªåŠ¨åˆå§‹åŒ–
- âœ… **åŒ…å«åŸºç¡€æ–¹æ³•**: Show/Hideç­‰åŸºç¡€åŠŸèƒ½
- âŒ **ä¸å¯æ‰‹åŠ¨ç¼–è¾‘**: ä¼šè¢«é‡æ–°ç”Ÿæˆè¦†ç›–

### ç”Ÿæˆå†…å®¹
```csharp
// <auto-generated>
// æ­¤æ–‡ä»¶ç”±UIç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆï¼Œè¯·å‹¿æ‰‹åŠ¨ä¿®æ”¹
// </auto-generated>

using UnityEngine;
using UnityEngine.UI;
using System;
using Astrum.View.UI.Core;

namespace Astrum.View.UI.Generated
{
    /// <summary>
    /// MainMenuView è®¾è®¡å™¨éƒ¨åˆ†
    /// ç”±UIç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…å«UIå…ƒç´ å¼•ç”¨å’Œåˆå§‹åŒ–é€»è¾‘
    /// </summary>
    public partial class MainMenuView
    {
        #region UI References
        
        // UIå¼•ç”¨
        private UIRefs uiRefs;
        
        // Button/ButtonName
        private Button buttonNameButton;
        
        // Text/StatusText
        private Text statusTextText;
        
        #endregion
        
        #region Properties
        
        public bool IsInitialized => uiRefs != null;
        
        #endregion
        
        #region Initialization
        
        /// <summary>
        /// åˆå§‹åŒ–UI
        /// </summary>
        public void Initialize(UIRefs refs)
        {
            uiRefs = refs;
            InitializeUIElements();
            OnInitialize();
        }
        
        /// <summary>
        /// åˆå§‹åŒ–UIå…ƒç´ å¼•ç”¨
        /// </summary>
        private void InitializeUIElements()
        {
            buttonNameButton = uiRefs.GetComponent<Button>("Button/ButtonName");
            statusTextText = uiRefs.GetComponent<Text>("Text/StatusText");
        }
        
        #endregion
        
        #region Basic Methods
        
        /// <summary>
        /// æ˜¾ç¤ºUI
        /// </summary>
        public virtual void Show()
        {
            if (uiRefs != null)
            {
                uiRefs.gameObject.SetActive(true);
                OnShow();
            }
        }
        
        /// <summary>
        /// éšè—UI
        /// </summary>
        public virtual void Hide()
        {
            if (uiRefs != null)
            {
                OnHide();
                uiRefs.gameObject.SetActive(false);
            }
        }
        
        #endregion
    }
}
```

## é€»è¾‘æ–‡ä»¶ (.cs)

### ç‰¹ç‚¹
- âœ… **æ‰‹åŠ¨ç¼–è¾‘**: ç¬¬ä¸€æ¬¡ç”Ÿæˆåå¯ä»¥è‡ªç”±ç¼–è¾‘
- âœ… **ä¸šåŠ¡é€»è¾‘**: ç¼–å†™UIçš„ä¸šåŠ¡é€»è¾‘ä»£ç 
- âœ… **ä¸ä¼šè¢«è¦†ç›–**: é‡æ–°ç”ŸæˆUIæ—¶ä¸ä¼šè¦†ç›–æ­¤æ–‡ä»¶
- âœ… **è™šæ–¹æ³•é‡å†™**: å¯ä»¥é‡å†™OnInitializeã€OnShowã€OnHideç­‰æ–¹æ³•

### ç”Ÿæˆå†…å®¹
```csharp
// æ­¤æ–‡ä»¶ç”¨äºç¼–å†™UIé€»è¾‘ä»£ç 
// ç¬¬ä¸€æ¬¡ç”Ÿæˆåï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ï¼Œä¸ä¼šè¢«é‡æ–°ç”Ÿæˆè¦†ç›–

using UnityEngine;
using UnityEngine.UI;
using System;
using Astrum.View.UI.Core;

namespace Astrum.View.UI.Generated
{
    /// <summary>
    /// MainMenuView é€»è¾‘éƒ¨åˆ†
    /// ç”¨äºç¼–å†™UIçš„ä¸šåŠ¡é€»è¾‘ä»£ç 
    /// </summary>
    public partial class MainMenuView
    {
        #region Virtual Methods
        
        /// <summary>
        /// åˆå§‹åŒ–å®Œæˆåçš„å›è°ƒ
        /// </summary>
        protected virtual void OnInitialize()
        {
            // åœ¨è¿™é‡Œæ·»åŠ åˆå§‹åŒ–é€»è¾‘
            SetupButtonEvents();
        }
        
        /// <summary>
        /// æ˜¾ç¤ºæ—¶çš„å›è°ƒ
        /// </summary>
        protected virtual void OnShow()
        {
            // åœ¨è¿™é‡Œæ·»åŠ æ˜¾ç¤ºé€»è¾‘
            RefreshUI();
        }
        
        /// <summary>
        /// éšè—æ—¶çš„å›è°ƒ
        /// </summary>
        protected virtual void OnHide()
        {
            // åœ¨è¿™é‡Œæ·»åŠ éšè—é€»è¾‘
            CleanupUI();
        }
        
        #endregion
        
        #region Business Logic
        
        // åœ¨è¿™é‡Œæ·»åŠ ä¸šåŠ¡é€»è¾‘æ–¹æ³•
        private void SetupButtonEvents()
        {
            if (buttonNameButton != null)
            {
                buttonNameButton.onClick.AddListener(OnButtonNameClicked);
            }
        }
        
        private void OnButtonNameClicked()
        {
            // æŒ‰é’®ç‚¹å‡»é€»è¾‘
            Debug.Log("Button clicked!");
        }
        
        private void RefreshUI()
        {
            // åˆ·æ–°UIæ˜¾ç¤º
            if (statusTextText != null)
            {
                statusTextText.text = "UIå·²æ˜¾ç¤º";
            }
        }
        
        private void CleanupUI()
        {
            // æ¸…ç†UIçŠ¶æ€
            if (statusTextText != null)
            {
                statusTextText.text = "";
            }
        }
        
        #endregion
    }
}
```

## é…ç½®é€‰é¡¹

åœ¨ `UIGeneratorConfig` ä¸­å¯ä»¥é…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š

```csharp
public class CodeGenerationSettings
{
    // æ˜¯å¦ä½¿ç”¨partial classæ¨¡å¼
    public bool UsePartialClass = true;
    
    // è®¾è®¡å™¨æ–‡ä»¶åç¼€
    public string DesignerFileSuffix = ".designer.cs";
    
    // é€»è¾‘æ–‡ä»¶åç¼€
    public string LogicFileSuffix = ".cs";
}
```

## ä½¿ç”¨æ–¹æ³•

### 1. ç”ŸæˆUIä»£ç 
1. åœ¨UIGeneratorä¸­é€‰æ‹©UIæ–‡ä»¶
2. ç‚¹å‡»"ç”ŸæˆUIä»£ç "æŒ‰é’®
3. ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š
   - `{UIé¡µé¢å}View.designer.cs`
   - `{UIé¡µé¢å}View.cs`

### 2. ç¼–è¾‘ä¸šåŠ¡é€»è¾‘
1. æ‰“å¼€ `{UIé¡µé¢å}View.cs` æ–‡ä»¶
2. åœ¨ `OnInitialize`ã€`OnShow`ã€`OnHide` æ–¹æ³•ä¸­æ·»åŠ é€»è¾‘
3. åœ¨ `Business Logic` åŒºåŸŸæ·»åŠ è‡ªå®šä¹‰æ–¹æ³•
4. ä½¿ç”¨è®¾è®¡å™¨æ–‡ä»¶ä¸­å®šä¹‰çš„UIå…ƒç´ å­—æ®µ

### 3. é‡æ–°ç”Ÿæˆè®¾è®¡å™¨æ–‡ä»¶
1. å½“UIç»“æ„å‘ç”Ÿå˜åŒ–æ—¶
2. å†æ¬¡ç‚¹å‡»"ç”ŸæˆUIä»£ç "æŒ‰é’®
3. è®¾è®¡å™¨æ–‡ä»¶ä¼šè¢«é‡æ–°ç”Ÿæˆ
4. é€»è¾‘æ–‡ä»¶ä¿æŒä¸å˜

## çŠ¶æ€æ£€æŸ¥

UIGeneratorä¼šæ£€æŸ¥ä»¥ä¸‹çŠ¶æ€ï¼š

### è®¾è®¡å™¨æ–‡ä»¶çŠ¶æ€
- âœ… æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- âœ… æ˜¯å¦åŒ…å«partial classå®šä¹‰
- âœ… æ˜¯å¦åŒ…å«Initializeæ–¹æ³•
- âœ… æ˜¯å¦åŒ…å«InitializeUIElementsæ–¹æ³•
- âœ… æ˜¯å¦åŒ…å«Show/Hideæ–¹æ³•

### é€»è¾‘æ–‡ä»¶çŠ¶æ€
- âœ… æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- âœ… æ˜¯å¦åŒ…å«partial classå®šä¹‰
- âœ… æ˜¯å¦åŒ…å«è™šæ–¹æ³•å®šä¹‰

### æ•´ä½“çŠ¶æ€
- ğŸŸ¢ **å®Œæ•´**: ä¸¤ä¸ªæ–‡ä»¶éƒ½å­˜åœ¨ä¸”æœ‰æ•ˆ
- ğŸŸ¡ **éƒ¨åˆ†**: åªæœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨
- ğŸ”´ **é”™è¯¯**: æ–‡ä»¶å­˜åœ¨ä½†å†…å®¹æ— æ•ˆ

## ä¼˜åŠ¿

1. **ä»£ç åˆ†ç¦»**: è‡ªåŠ¨ç”Ÿæˆä»£ç å’Œæ‰‹åŠ¨ç¼–å†™ä»£ç åˆ†ç¦»
2. **ä¿æŠ¤é€»è¾‘**: ä¸šåŠ¡é€»è¾‘ä¸ä¼šè¢«é‡æ–°ç”Ÿæˆè¦†ç›–
3. **æ˜“äºç»´æŠ¤**: UIç»“æ„å˜åŒ–æ—¶åªéœ€é‡æ–°ç”Ÿæˆè®¾è®¡å™¨æ–‡ä»¶
4. **ç±»å‹å®‰å…¨**: æ‰€æœ‰UIå…ƒç´ éƒ½æœ‰å¼ºç±»å‹å¼•ç”¨
5. **å¼€å‘æ•ˆç‡**: è‡ªåŠ¨ç”ŸæˆUIå¼•ç”¨ï¼Œå‡å°‘æ‰‹åŠ¨ç¼–å†™

## æ³¨æ„äº‹é¡¹

1. **ä¸è¦ç¼–è¾‘è®¾è®¡å™¨æ–‡ä»¶**: `.designer.cs` æ–‡ä»¶ä¼šè¢«é‡æ–°ç”Ÿæˆè¦†ç›–
2. **ä½¿ç”¨æ­£ç¡®çš„å­—æ®µå**: åœ¨é€»è¾‘æ–‡ä»¶ä¸­ä½¿ç”¨è®¾è®¡å™¨æ–‡ä»¶å®šä¹‰çš„å­—æ®µ
3. **æ£€æŸ¥nullå¼•ç”¨**: åœ¨ä½¿ç”¨UIå…ƒç´ å‰æ£€æŸ¥æ˜¯å¦ä¸ºnull
4. **å‘½åè§„èŒƒ**: UIå…ƒç´ å­—æ®µåéµå¾ª `{å¯¹è±¡å}{ç»„ä»¶ç±»å‹}` çš„å‘½åè§„åˆ™

## ç¤ºä¾‹ï¼šå®Œæ•´çš„ä½¿ç”¨æµç¨‹

1. **åˆ›å»ºUI Prefab**: åœ¨Unityä¸­åˆ›å»ºåŒ…å«Buttonã€Textç­‰ç»„ä»¶çš„UI
2. **ç”Ÿæˆä»£ç **: ä½¿ç”¨UIGeneratorç”Ÿæˆpartial classæ–‡ä»¶
3. **ç¼–å†™é€»è¾‘**: åœ¨é€»è¾‘æ–‡ä»¶ä¸­æ·»åŠ æŒ‰é’®ç‚¹å‡»ã€æ–‡æœ¬æ›´æ–°ç­‰é€»è¾‘
4. **æµ‹è¯•åŠŸèƒ½**: åœ¨Unityä¸­æµ‹è¯•UIåŠŸèƒ½
5. **ä¿®æ”¹UI**: å¦‚æœéœ€è¦ä¿®æ”¹UIç»“æ„ï¼Œé‡æ–°ç”Ÿæˆè®¾è®¡å™¨æ–‡ä»¶
6. **æ›´æ–°é€»è¾‘**: æ ¹æ®æ–°çš„UIç»“æ„æ›´æ–°ä¸šåŠ¡é€»è¾‘

è¿™ç§è®¾è®¡æ¨¡å¼ç¡®ä¿äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¼€å‘æ•ˆç‡ï¼Œæ˜¯ç°ä»£UIå¼€å‘çš„æœ€ä½³å®è·µã€‚
