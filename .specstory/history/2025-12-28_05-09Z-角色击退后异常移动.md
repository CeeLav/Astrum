<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session cb60d45f-661f-4e85-85f3-97c00785738b (2025-12-28 05:09Z) -->

# 角色击退后异常移动 (2025-12-28 05:09Z)

_**User (2025-12-28 03:48Z)**_

你看一下unity console 日志，处理当前的问题。然后现在的现象是，被击退的角色一直在往一个方向移动，然后被拉回@c:\Users\Lavender\.cursor\plans\击退表现层及viewread统一_4431f8d5.plan.md @c:\Users\Lavender\.cursor\plans\击退表现层实现_629084e9.plan.md 

---

_**Agent (model default, mode Agent)**_



---


查看 Unity 控制台日志，了解当前问题。


---

<tool-use data-tool-type="unknown" data-tool-name="mcp_unityMCP_read_console">
<details>
<summary>Tool use: **mcp_unityMCP_read_console**</summary>


Parameters:

```json
{
  "tools": [
    {
      "name": "read_console",
      "description": "Gets messages from or clears the Unity Editor console.\n\n        Args:\n            ctx: The MCP context.\n            action: Operation ('get' or 'clear').\n            types: Message types to get ('error', 'warning', 'log', 'all').\n            count: Max messages to return.\n            filter_text: Text filter for messages.\n            since_timestamp: Get messages after this timestamp (ISO 8601).\n            format: Output format ('plain', 'detailed', 'json').\n            include_stacktrace: Include stack traces in output.\n\n        Returns:\n            Dictionary with results. For 'get', includes 'data' (messages).\n        ",
      "parameters": "{\"action\": \"get\", \"types\": [\"error\",\"warning\",\"log\"], \"count\": 50}",
      "serverName": "unityMCP"
    }
  ]
}
```
Additional data:

```json
{
  "status": "cancelled",
  "reviewData": {
    "status": "Done",
    "selectedOption": "run",
    "isShowingInput": false,
    "approvalType": "full_auto",
    "toolName": "read_console",
    "serverId": "unityMCP"
  }
}
```
Result:

```json
{
  "selectedTool": "read_console",
  "result": "{\"skipped\":true,\"message\":\"User cancelled the MCP tool execution\"}"
}
```
User decision: **rejected**

Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumLogic/Components/KnockbackComponent.ViewRead.cs</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---



---


查看击退逻辑层的实现，了解逻辑层的位置更新方式：


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumLogic/Capabilities/SkillDisplacementCapability.cs</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** • Grep for "KnockbackCapability" • 10 matches</summary>

Output mode: files_with_matches


| File |
|------|
| `.\AstrumProj\Assets\Script\AstrumLogic\Capabilities\KnockbackCapability.cs` |
| `.\AstrumProj\Assets\Script\AstrumLogic\Archetypes\Builtins\CombatArchetype.cs` |
| `.\AstrumProj\Assets\Script\AstrumLogic\SkillSystem\EffectHandlers\KnockbackEffectHandler.cs` |
| `.\Docs\05-CoreArchitecture 核心架构\事件\Event-Queue-System 事件队列系统.md` |
| `.\Docs\02-CombatSystem 战斗系统\技能系统\ActionSystem-HitReaction-Integration-Design 受击动作集成设计.md` |
| `.\Docs\02-CombatSystem 战斗系统\技能效果\Hit-Reaction-And-Knockback 受击与击退.md` |
| `.\Docs\02-CombatSystem 战斗系统\_status 开发进展\架构修订-v1.2-Review.md` |
| `.\Docs\02-CombatSystem 战斗系统\_status 开发进展\Hit-Reaction-Progress 受击与击退开发进展.md` |
| `.\Docs\02-CombatSystem 战斗系统\README.md` |
| `.\AstrumProj\Assets\Script\AstrumLogic\Events\KnockbackEvent.cs` |


</details>
</tool-use>

---



---





---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumLogic/Capabilities/KnockbackCapability.cs</summary>

</details>
</tool-use>

---



---


检查击退开始时起点设置的逻辑：


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">

</tool-use>

---



---


问题在于表现层使用了固定的起点和终点进行插值，而逻辑层每帧都在更新位置，导致偏差不断累积。改为以逻辑层的当前位置为基准，在击退方向上做平滑跟随。修复中：


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [-] 修复击退表现层被拉回问题：改用逻辑位置作为基准，在此基础上平滑跟随

</details>
</tool-use>

---



---


问题是表现层使用了固定的起点和终点插值，而逻辑层位置每帧都在更新，导致偏差累积并触发极端保护。改为以逻辑层的当前位置为基准进行平滑跟随，而不是固定起终点插值：


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

**Chunk 1**
Lines added: 1, lines removed: 1

```diff
@@ -471,5 +471,5 @@
          /// &lt;summary&gt;
          /// 处理被动位移模式（击退等）
-         /// 基于逻辑层预计算的落点和击退曲线，表现层自己执行平滑位移
+         /// 使用逻辑层的当前位置作为基准，在此基础上进行平滑跟随
          /// &lt;/summary&gt;
          private void HandlePassiveDisplacement(Vector3 posLogic, int logicFrame, bool logicFrameAdvanced, float deltaTime)
```

**Chunk 2**
Lines added: 42, lines removed: 31

```diff
@@ -502,46 +502,57 @@
              _knockbackTypeCached = knockbackRead.Type;
  
-             // 击退刚开始时，初始化起点和落点
+             // 击退刚开始时，初始化缓存
              if (_knockbackJustStarted)
              {
-                 // 起点：使用表现层自己的当前位置
-                 _knockbackStartPosVisual = _posVisual;
-                 // 落点：使用逻辑层提供的预计算落点位置
+                 // 使用逻辑层的起点位置作为基准（而不是表现层当前位置）
+                 _knockbackStartPosVisual = ToVector3(knockbackRead.StartPosition);
                  _knockbackTargetPosVisual = ToVector3(knockbackRead.TargetPosition);
+                 
+                 // 如果视觉位置和逻辑起点偏差过大，对齐到逻辑起点
+                 if ((_posVisual - _knockbackStartPosVisual).magnitude &gt; 1f)
+                 {
+                     _posVisual = _knockbackStartPosVisual;
+                 }
+                 
                  ASLogger.Instance.Debug($"[PredictedMovementViewComponent] Entity {entity.UniqueId} knockback initialized in view layer: " +
                      $"VisualStartPos=({_knockbackStartPosVisual.x:F2}, {_knockbackStartPosVisual.y:F2}, {_knockbackStartPosVisual.z:F2}), " +
                      $"VisualTargetPos=({_knockbackTargetPosVisual.x:F2}, {_knockbackTargetPosVisual.y:F2}, {_knockbackTargetPosVisual.z:F2}), " +
-                     $"LogicTargetPos=({knockbackRead.TargetPosition.x.AsFloat():F2}, {knockbackRead.TargetPosition.y.AsFloat():F2}, {knockbackRead.TargetPosition.z.AsFloat():F2})");
+                     $"CurrentLogicPos=({posLogic.x:F2}, {posLogic.y:F2}, {posLogic.z:F2}), " +
+                     $"CurrentVisualPos=({_posVisual.x:F2}, {_posVisual.y:F2}, {_posVisual.z:F2})");
                  _knockbackJustStarted = false;
              }
  
-             // 基于时间计算击退进度（0-1）
-             // 进度 = 已过时间 / 总时间 = (总时间 - 剩余时间) / 总时间
-             float totalTime = knockbackRead.TotalTime.AsFloat();
-             float remainingTime = knockbackRead.RemainingTime.AsFloat();
-             float progress = 0f;
-             if (totalTime &gt; 0.001f)
-             {
-                 float elapsedTime = totalTime - remainingTime;
-                 progress = Mathf.Clamp01(elapsedTime / totalTime);
-             }
+             // 计算击退方向（从起点到落点）
+             Vector3 knockbackDirection = (_knockbackTargetPosVisual - _knockbackStartPosVisual);
+             float totalDistance = knockbackDirection.magnitude;
+             if (totalDistance &gt; 0.001f)
+             {
+                 knockbackDirection = knockbackDirection / totalDistance;
+             }
+             else
+             {
+                 knockbackDirection = Vector3.zero;
+             }
+ 
+             // 基于逻辑位置计算当前进度（相对于起点）
+             Vector3 logicDelta = posLogic - _knockbackStartPosVisual;
+             float logicProgress = totalDistance &gt; 0.001f ? Vector3.Dot(logicDelta, knockbackDirection) / totalDistance : 0f;
+             logicProgress = Mathf.Clamp01(logicProgress);
  
-             // 根据击退类型应用不同的插值曲线
-             float curvedProgress = ApplyKnockbackCurve(progress, _knockbackTypeCached);
+             // 根据击退类型应用不同的插值曲线（得到曲线化的进度）
+             float curvedProgress = ApplyKnockbackCurve(logicProgress, _knockbackTypeCached);
  
-             // 从起点到落点插值
-             _posVisual = Vector3.Lerp(_knockbackStartPosVisual, _knockbackTargetPosVisual, curvedProgress);
-             
-             // 每10帧输出一次击退处理日志（避免日志过多）
-             if (logicFrame % 10 == 0)
-             {
-                 ASLogger.Instance.Debug($"[PredictedMovementViewComponent] Entity {entity.UniqueId} knockback update: " +
-                     $"Progress={progress:F3}, CurvedProgress={curvedProgress:F3}, " +
-                     $"TotalTime={totalTime:F2}, RemainingTime={remainingTime:F2}, " +
-                     $"VisualPos=({_posVisual.x:F2}, {_posVisual.y:F2}, {_posVisual.z:F2}), " +
-                     $"VisualStartPos=({_knockbackStartPosVisual.x:F2}, {_knockbackStartPosVisual.y:F2}, {_knockbackStartPosVisual.z:F2}), " +
-                     $"VisualTargetPos=({_knockbackTargetPosVisual.x:F2}, {_knockbackTargetPosVisual.y:F2}, {_knockbackTargetPosVisual.z:F2}), " +
-                     $"LogicPos=({posLogic.x:F2}, {posLogic.y:F2}, {posLogic.z:F2}), " +
-                     $"DistanceToTarget={(_knockbackTargetPosVisual - _posVisual).magnitude:F2}");
+             // 计算目标视觉位置（基于曲线化的进度）
+             Vector3 targetVisualPos = _knockbackStartPosVisual + knockbackDirection * (totalDistance * curvedProgress);
+ 
+             // 平滑跟随逻辑位置（但使用曲线化的进度）
+             // 使用线性插值平滑移动到目标位置，而不是直接设置
+             _posVisual = Vector3.Lerp(_posVisual, targetVisualPos, posFixLerp * deltaTime * 20f); // 加速平滑速度
+ 
+             // 如果偏差仍然过大，直接对齐（避免累积误差）
+             float distanceToLogic = (_posVisual - posLogic).magnitude;
+             if (distanceToLogic &gt; 0.5f) // 降低阈值，更早对齐
+             {
+                 _posVisual = posLogic;
              }
  
```

**Chunk 3**
Lines added: 1, lines removed: 1

```diff
@@ -554,5 +565,5 @@
  
              // 极端保护：当视觉与逻辑偏差过大时，强制对齐
-             if ((_posVisual - posLogic).magnitude &gt; hardSnapDistance)
+             if (distanceToLogic &gt; hardSnapDistance)
              {
                  _posVisual = posLogic;
```

</details>

</tool-use>

---



---


重新审视逻辑，优化方案：确保表现层正确跟随逻辑层的位置更新。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

</details>
</tool-use>

---



---


简化逻辑：直接平滑跟随逻辑层的位置，不再使用曲线化位置，避免不一致。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

**Chunk 1**
Lines added: 15, lines removed: 29

```diff
@@ -523,37 +523,23 @@
              }
  
-             // 计算击退方向（从起点到落点）
-             Vector3 knockbackDirection = (_knockbackTargetPosVisual - _knockbackStartPosVisual);
-             float totalDistance = knockbackDirection.magnitude;
-             if (totalDistance &gt; 0.001f)
-             {
-                 knockbackDirection = knockbackDirection / totalDistance;
+             // 直接使用逻辑位置作为基准，进行平滑跟随
+             // 击退时，逻辑层已经在每帧更新位置，表现层只需要平滑跟随即可
+             if (logicFrameAdvanced)
+             {
+                 // 逻辑帧推进时，计算逻辑位置的变化量
+                 Vector3 logicDelta = posLogic - _lastPosLogicSeen;
+                 
+                 // 更新视觉位置：跟随逻辑位置的变化，但使用平滑插值
+                 // 对于击退，使用较快的平滑速度，减少延迟感
+                 _posVisual = Vector3.Lerp(_posVisual, posLogic, posFixLerp * deltaTime * 30f);
              }
              else
              {
-                 knockbackDirection = Vector3.zero;
-             }
- 
-             // 基于逻辑位置计算当前进度（相对于起点）
-             Vector3 logicDelta = posLogic - _knockbackStartPosVisual;
-             float logicProgress = totalDistance &gt; 0.001f ? Vector3.Dot(logicDelta, knockbackDirection) / totalDistance : 0f;
-             logicProgress = Mathf.Clamp01(logicProgress);
- 
-             // 根据击退类型应用不同的插值曲线（得到曲线化的进度）
-             float curvedProgress = ApplyKnockbackCurve(logicProgress, _knockbackTypeCached);
- 
-             // 计算目标视觉位置（基于曲线化的进度）
-             Vector3 targetVisualPos = _knockbackStartPosVisual + knockbackDirection * (totalDistance * curvedProgress);
- 
-             // 平滑跟随逻辑位置（但使用曲线化的进度）
-             // 使用线性插值平滑移动到目标位置，而不是直接设置
-             _posVisual = Vector3.Lerp(_posVisual, targetVisualPos, posFixLerp * deltaTime * 20f); // 加速平滑速度
- 
-             // 如果偏差仍然过大，直接对齐（避免累积误差）
+                 // 逻辑帧停更时，保持当前视觉位置（不做额外处理）
+                 // 避免在没有新数据时产生错误的方向
+             }
+             
+             // 计算偏差，用于极端保护
              float distanceToLogic = (_posVisual - posLogic).magnitude;
-             if (distanceToLogic &gt; 0.5f) // 降低阈值，更早对齐
-             {
-                 _posVisual = posLogic;
-             }
  
              // 更新逻辑帧缓存
```

</details>

</tool-use>

---



---


检查并确保逻辑正确，处理边界情况：


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** • Read lints for 1 file</summary>
      
Lint paths:

- `AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---


移除未使用的变量：


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: AstrumProj/Assets/Script/AstrumView/Components/PredictedMovementViewComponent.cs</summary>

**Chunk 1**
Lines added: 3, lines removed: 6

```diff
@@ -527,15 +527,12 @@
              if (logicFrameAdvanced)
              {
-                 // 逻辑帧推进时，计算逻辑位置的变化量
-                 Vector3 logicDelta = posLogic - _lastPosLogicSeen;
-                 
-                 // 更新视觉位置：跟随逻辑位置的变化，但使用平滑插值
+                 // 逻辑帧推进时，平滑跟随逻辑位置
                  // 对于击退，使用较快的平滑速度，减少延迟感
                  _posVisual = Vector3.Lerp(_posVisual, posLogic, posFixLerp * deltaTime * 30f);
              }
              else
              {
-                 // 逻辑帧停更时，保持当前视觉位置（不做额外处理）
-                 // 避免在没有新数据时产生错误的方向
+                 // 逻辑帧停更时，平滑对齐到逻辑位置（避免偏差累积）
+                 _posVisual = Vector3.Lerp(_posVisual, posLogic, posFixLerp * deltaTime * 20f);
              }
              
```

</details>

</tool-use>

---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** • Run command: cd D:\Develop\Projects\Astrum && dotnet build AstrumProj/AstrumProj.sln --no-incremental 2>&1 | Select-String -Pattern "error|warning" -Context 2,2 | Select-Object -First 50</summary>

```bash
cd D:\Develop\Projects\Astrum && dotnet build AstrumProj/AstrumProj.sln --no-incremental 2>&1 | Select-String -Pattern "error|warning" -Context 2,2 | Select-Object -First 50
```

```
����λ�� C:\Users\Lavender\AppData\Local\Temp\ps-script-90d4b2fa-5129-4ccb-8a9f-65725e46264b.ps1:7 �ַ�: 31
+ cd D:\Develop\Projects\Astrum &amp;&amp; dotnet build AstrumProj/AstrumProj.s ...
+                               ~~
��ǡ�&amp;&amp;�����Ǵ˰汾�е���Ч���ָ�����
    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : InvalidEndOfLine
 

```
</details>
</tool-use>

---



---





---

<tool-use data-tool-type="shell" data-tool-name="run_terminal_cmd">
<details><summary>Tool use: **run_terminal_cmd** • Run command: cd D:\Develop\Projects\Astrum; dotnet build AstrumProj/AstrumProj.sln --no-incremental 2>&1 | Select-String -Pattern "error|warning" -Context 2,2 | Select-Object -First 50</summary>

```bash
cd D:\Develop\Projects\Astrum; dotnet build AstrumProj/AstrumProj.sln --no-incremental 2>&1 | Select-String -Pattern "error|warning" -Context 2,2 | Select-Object -First 50
```

```

    Determining projects to restore...
    Nothing to do. None of the projects specified contain packages to restore.
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.TLSModule.dll”。Access t
o the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.TLSModule.dll' is denie
d.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.UnityConnectModule.dll”�
��Access to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.UnityConnectMo
dule.dll' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-Editor-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.SubsystemsModule.xml”。A
ccess to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.SubsystemsModule
.xml' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.GameCenterModule.xml”。A
ccess to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.GameCenterModule
.xml' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-Editor-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.InputModule.xml”。Access
 to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEngine.InputModule.xml' is d
enied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-Editor-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.UIElementsModule.xml”。A
ccess to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.UIElementsModule
.xml' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.PresetsUIModule.xml”。Ac
cess to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.PresetsUIModule.x
ml' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-Editor-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.TextCoreTextEngineModule
.xml”。Access to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.TextCore
TextEngineModule.xml' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-firstpass.csproj]
&gt; C:\Program Files\dotnet\sdk\10.0.100-rc.1.25451.107\Microsoft.Common.CurrentVersion.targets(5918,5): warning MSB3061:
 无法删除文件“D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.PresetsUIModule.xml”。Ac
cess to the path 'D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\UnityEditor.PresetsUIModule.x
ml' is denied.  [D:\Develop\Projects\Astrum\AstrumProj\External.csproj]
&gt; CSC : warning CS2008: 未指定源文件�?[D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-Editor-firstpass.csproj]
&gt; CSC : warning CS2008: 未指定源文件�?[D:\Develop\Projects\Astrum\AstrumProj\External.csproj]
&gt; CSC : warning CS8021: 找不�?RuntimeMetadataVersion 的值。找不到包含 System.Object 的程序集，或未通过选项�?RuntimeMetadataVersi
on 指定值�?[D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-Editor-firstpass.csproj]
&gt; CSC : warning CS8021: 找不�?RuntimeMetadataVersion 的值。找不到包含 System.Object 的程序集，或未通过选项�?RuntimeMetadataVersi
on 指定值�?[D:\Develop\Projects\Astrum\AstrumProj\External.csproj]
    External -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\External.dll
    Assembly-CSharp-Editor-firstpass -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Unity.Rider.Editor\Assembl
y-CSharp-Editor-firstpass.dll
&gt; CSC : warning CS2008: 未指定源文件�?[D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-firstpass.csproj]
    SingularityGroup.HotReload.Runtime.Public -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\SingularityGroup.
HotReload.Runtime.Public\SingularityGroup.HotReload.Runtime.Public.dll
&gt; CSC : warning CS8021: 找不�?RuntimeMetadataVersion 的值。找不到包含 System.Object 的程序集，或未通过选项�?RuntimeMetadataVersi
on 指定值�?[D:\Develop\Projects\Astrum\AstrumProj\Assembly-CSharp-firstpass.csproj]
    Astrum.Editor.Common -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Astrum.Editor.Common\Astrum.Editor.Com
mon.dll
    Kybernetik.Animancer.FSM -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Kybernetik.Animancer.FSM\Kyberneti
k.Animancer.FSM.dll
    SingularityGroup.HotReload.Runtime -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\SingularityGroup.HotRelo
ad.Runtime\SingularityGroup.HotReload.Runtime.dll
    SingularityGroup.HotReload.Editor -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\SingularityGroup.HotReloa
d.Editor\SingularityGroup.HotReload.Editor.dll
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\CommonBase\ObjectPool.cs(59,21): warning CS0114: “ObjectPool.Awak
e()”隐藏继承的成员“Singleton&lt;ObjectPool&gt;.Awake()”。若要使当前成员重写该实现，请添加关键字 override。否则，添加关键�?new�?[D:\Develop\Pr
ojects\Astrum\AstrumProj\CommonBase.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\CommonBase\Singleton.cs(12,25): warning CS8632: 只能�?"#nullable" 
注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\CommonBase.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\CommonBase\TimeInfo\TimeInfo.cs(54,21): warning CS0114: “TimeInfo
.Awake()”隐藏继承的成员“Singleton&lt;TimeInfo&gt;.Awake()”。若要使当前成员重写该实现，请添加关键字 override。否则，添加关键�?new�?[D:\Develop
\Projects\Astrum\AstrumProj\CommonBase.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\CommonBase\CodeTypes.cs(12,21): warning CS0114: “CodeTypes.Awake(
)”隐藏继承的成员“Singleton&lt;CodeTypes&gt;.Awake()”。若要使当前成员重写该实现，请添加关键字 override。否则，添加关键�?new�?[D:\Develop\Proje
cts\Astrum\AstrumProj\CommonBase.csproj]
    CommonBase -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\CommonBase\CommonBase.dll
    Generated -&gt; D:\Develop\Projects\Astrum\AstrumProj\Temp\Bin\Debug\Generated\Generated.dll
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Components\MonsterInfoComponent.cs(45,29): warning CS
8632: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.cspr
oj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Core\EntityCreationParams.cs(28,22): warning CS8632: 
只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Capabilities\IdleStateCapability.cs(100,23): warning 
CS8632: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.cs
proj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\SkillSystem\Projectile\ProjectileDefinitions.cs(107,3
6): warning CS8632: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\As
trumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Capabilities\ActionCapability.cs(428,27): warning CS8
632: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.cspro
j]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Core\Entity.cs(180,75): warning CS8632: 只能�?"#nullab
le" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Core\Entity.cs(272,75): warning CS8632: 只能�?"#nullab
le" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Factories\ComponentFactory.cs(30,29): warning CS8632:
 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Factories\ComponentFactory.cs(57,17): warning CS8632:
 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Core\Entity.cs(400,17): warning CS8632: 只能�?"#nullab
le" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\SkillSystem\EffectValueResult.cs(19,42): warning CS86
32: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj
]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Inventory\ItemStack.cs(19,42): warning CS8632: 只能�?"
#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Inventory\ItemStack.cs(26,75): warning CS8632: 只能�?"
#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\ActionSystem\ActionInfo.cs(57,35): warning CS8632: 只�
���?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Core\Room.cs(78,33): warning CS8632: 只能�?"#nullable"
 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\SkillConfig.cs(32,25): warning CS8632: 只能�?
"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\SkillConfig.cs(57,26): warning CS8632: 只能�?
"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\ActionSystem\ActionInfo.cs(63,36): warning CS8632: 只�
���?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\SkillConfig.cs(99,27): warning CS8632: 只能�?
"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\SkillConfig.cs(149,26): warning CS8632: 只能�
?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\SkillConfig.cs(232,42): warning CS8632: 只能�
?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\ActionSystem\ActionInfo.cs(121,39): warning CS8632: �
�能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Capabilities\ProjectileCapability.cs(254,18): warning
 CS8632: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.c
sproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\ActionConfig.cs(26,26): warning CS8632: 只能�
?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\ActionSystem\ActionInfo.cs(84,32): warning CS8632: 只�
���?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\ActionSystem\ActionInfo.cs(84,69): warning CS8632: 只�
���?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\ActionConfig.cs(369,28): warning CS8632: 只能
�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\ActionConfig.cs(357,28): warning CS8632: 只能
�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Managers\ActionConfig.cs(358,25): warning CS8632: 只能
�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\Components\RoleInfoComponent.cs(35,29): warning CS863
2: 只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]
&gt; D:\Develop\Projects\Astrum\AstrumProj\Assets\Script\AstrumLogic\FrameSync\ReplayTimeline.cs(105,30): warning CS8632: 
只能�?"#nullable" 注释上下文内的代码中使用可为 null 的引用类型的注释�?[D:\Develop\Projects\Astrum\AstrumProj\AstrumLogic.csproj]

```
</details>
</tool-use>

---



---



---

